.wiki-wrapper {
  @include media-breakpoint-up(lg) {
    display: grid;
    grid-template-areas: "sidebar main";
    grid-template-columns: 2fr 6fr;
    gap: $grid-gutter-width;
  }
}
.sidebar {
  @extend .bg-nnt-purple-dark; // Ensure the background is full height of the page when the page is longer than the viewport
  grid-area: sidebar;
  @include media-breakpoint-up(lg) {
    padding: 1rem;
    margin-left: -1rem;
  }
  #wiki-sidebar {  
    @extend .sticky-lg-top;
    @include media-breakpoint-up(lg) {
      // Override collapse behaviors
      display: block !important;
      height: 100vh;
      overflow-y: auto; // Takes full height of the viewport and then independently scrolls 
      align-self: start;  // For position sticky
    }
  }

  @include media-breakpoint-down(lg) {
    .offcanvas-lg {
      border-right-color: var(--bs-border-color);
      box-shadow: $box-shadow-lg;
    }
  }
  ul.sidebar-navigation, ul.sidebar-navigation ul {
    list-style-type: none;
    line-height: 2;
  }
}
main {
  @include media-breakpoint-up(lg){
    grid-area: main;
  }
  &.has-toc {
    @include media-breakpoint-up(lg){
      display: grid;
      grid-template-areas: "content toc";
      grid-template-columns: 7fr 3fr; 
      gap: $grid-gutter-width;
    }
  }
}

.table-of-contents {
  grid-area: toc; 
  align-self: start; // Necessary for position:sticky with display:grid
}